---
phase: 02-verification-automation-and-reporting
plan: "03"
type: execute
wave: 3
depends_on:
  - "02"
files_modified:
  - .github/workflows/ci.yml
  - tests/run_tests.sh
  - tests/README.md
autonomous: true
requirements:
  - TEST-05
must_haves:
    truths:
      - Every architecture publishes verification pass/fail evidence as inspectable artifacts.
      - CI step summaries provide architecture-level and check-level outcomes in one run.
      - Aggregate gate status reflects all architecture results after full artifact publication.
    artifacts:
      - path: .github/workflows/ci.yml
        provides: Per-architecture artifact upload and aggregate summary gate behavior
      - path: tests/run_tests.sh
        provides: Stable summary output files consumed by CI reporting
      - path: tests/README.md
        provides: Contributor guidance for locating verification artifacts and summary outputs
    key_links:
      - from: .github/workflows/ci.yml
        to: tests/run_tests.sh
        via: CI uploads runner-generated verification summaries and logs per architecture
        pattern: upload-artifact
      - from: .github/workflows/ci.yml
        to: .github/workflows/ci.yml
        via: aggregate summary job evaluates matrix result after all architecture jobs complete
        pattern: needs: baseline
      - from: tests/README.md
        to: .github/workflows/ci.yml
        via: docs reference CI verification artifact/summaries for triage
        pattern: verification artifact
---

<objective>
Publish complete per-architecture verification reports and aggregate CI summaries so failures are diagnosable without reruns.

Purpose: satisfy TEST-05 by standardizing artifact contracts and report surfaces.
Output: stable artifact naming + CI summary tables + final aggregate verdict step.
</objective>

<execution_context>
@/Users/maleick/.codex/get-shit-done/workflows/execute-plan.md
@/Users/maleick/.codex/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-verification-automation-and-reporting/02-CONTEXT.md
@.planning/phases/02-verification-automation-and-reporting/02-RESEARCH.md
@.planning/phases/02-verification-automation-and-reporting/02-02-PLAN.md
@.github/workflows/ci.yml
@tests/run_tests.sh
@tests/README.md

Locked decisions to honor:
- artifact names include architecture and check type (and profile where relevant)
- per-architecture compact summary + raw logs are both published
- aggregate summary reflects full matrix after all architecture work completes
</context>

<tasks>

<task type="auto">
  <name>Task 1: Standardize per-architecture verification artifact contract</name>
  <files>tests/run_tests.sh
.github/workflows/ci.yml</files>
  <action>Ensure runner emits consistently named verification logs and compact summaries per architecture/check, and CI uploads all of them with stable artifact naming conventions. Include profile in filenames for bad-byte checks.</action>
  <verify><automated>rg -n "summary-.*\.json|verify-.*\.log|artifact|profile|arch" tests/run_tests.sh .github/workflows/ci.yml</automated></verify>
  <done>Per-architecture verification artifacts are deterministic, complete, and easily discoverable.</done>
</task>

<task type="auto">
  <name>Task 2: Publish architecture-level step summaries and aggregate matrix report</name>
  <files>.github/workflows/ci.yml</files>
  <action>Add/normalize GitHub step summary output so each architecture row includes check-level verdicts and artifact references. Ensure the aggregate summary step runs with `if: always()` and reports final matrix status after collecting all architecture results.</action>
  <verify><automated>rg -n "GITHUB_STEP_SUMMARY|Baseline Aggregate Result|if: always\(\)|needs:" .github/workflows/ci.yml</automated></verify>
  <done>CI summary output gives complete architecture and aggregate visibility in a single run view.</done>
</task>

<task type="auto">
  <name>Task 3: Document verification evidence surfaces for contributors</name>
  <files>tests/README.md</files>
  <action>Update test documentation with where to find verification artifacts, what files to inspect first, and how per-architecture summaries map to check types (bad-byte/functionality/semantic).</action>
  <verify><automated>rg -n "verification artifact|per-architecture|bad-byte|functionality|semantic|summary" tests/README.md</automated></verify>
  <done>Contributors can triage CI verification failures using published artifacts and summaries without rerunning locally first.</done>
</task>

</tasks>

<verification>
Validate that each architecture produces stable verification artifacts and that CI summary/aggregate outputs surface complete result context.
</verification>

<success_criteria>
- Stable per-arch verification artifacts are uploaded for all checks
- CI step summaries include architecture and check-level outcomes
- Aggregate gate verdict is emitted after full matrix completion
- Docs explain artifact and summary triage flow
</success_criteria>

<output>
After completion, create `.planning/phases/02-verification-automation-and-reporting/02-03-SUMMARY.md`
</output>
