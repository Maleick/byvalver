services:
  # Development build environment
  byvalver-dev:
    build:
      context: .
      dockerfile: Dockerfile
    working_dir: /opt/byvalver
    entrypoint: ["./bin/byvalver"]

  # Run verification suite
  verify:
    build:
      context: .
      dockerfile: Dockerfile
    working_dir: /opt/byvalver
    entrypoint: []
    command: ["python3", "verify_denulled.py", "--batch", "tests/fixtures"]

  # Host-vs-Docker parity execution surface
  parity:
    build:
      context: .
      dockerfile: Dockerfile
    working_dir: /opt/byvalver
